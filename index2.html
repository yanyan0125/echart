<!DOCTYPE html>
<html>
	<head>
		<meta charset="utf-8" />
		<title></title>
		<meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no" />
		<script type="text/javascript" src="zepto.js"></script>
		<script src="echarts.min.js"></script>
		<style>
			*{
				padding: 0;
				margin: 0;
			}
			
			
		</style>
	</head>
	<body>
		<div id="main" style="width: 100%;height:700px;"></div>
		<script type="text/javascript">
		 var myChart = echarts.init(document.getElementById('main'));
		 //x轴内容
        var xData = function() {
		    var data = [];
		    for (var i = 1; i < 5; i++) {
		        data.push(i + "月份");
		    }
		    return data;
		}();
		
		var data1 = [
                9.00,
                9.40,
                9.80,
                10.20
             
            ],
            data2 = [];

option1 = {
    backgroundColor: "#344b58", //背景颜色
    "title": {						//标题
        "text": "年化利率(%)",
        x: "4%",
        y: '11%',
        textStyle: {
            color: '#999',
            fontSize: '10'
        },      
    },
    //图表定位
    "grid": {
        "borderWidth":0,
        "top": 110,
        "bottom": 100,
    },
    
	//不允许拖拽
    "calculable": false, 
    
    //加入横轴的内容
    "xAxis": [{
        "type": "category",
        "axisLine": {
        	show: false,
            "lineStyle": {
                "color": '#fff',
                "fontSize": 12
            	
        	}
        },
//      "axisLabel":{
//      	"inside": false,
//      	"textStyle": {
//			    "color": 'green'
//			}
//      	
//      },
        "splitLine": {
            "show": false  //分割线
        },
        "axisTick": {
            "show": false  //不显示坐标轴刻度
        },
        "splitArea": {
            "show": false
        },
        "axisLabel": {
            "interval": 0,

        },
        "data": xData
    }],
    
    
    //y轴内容
    "yAxis": [{
        "type": "value",
        "splitLine": {
            "show": false
        },
        "axisLine": {
            lineStyle: {
                color: '#fff',
                fontSize: 12
            }
        },
        "axisTick": {
            "show": false
        },
        "axisLabel": {
            "interval": 0,

        },
        "splitArea": {
            "show": false
        },

    }],

	
    "series": [{
            "name": "女",
            "type": "bar",
            "stack": "总量",
            "barMaxWidth": 35,
            "barGap": "10%",
            "itemStyle": {
                "normal": {
                    "color": "#94bdff",
                    "label": {
                        "show": true,
                        "textStyle": {
                            "color": "#222"
                        },
                        "position": "top",
                        formatter: function(p) {
                        	
//                       return p.value > 0 ? (p.value) : '';
                        }
                    },
   
                }
                
            },
            "data": data1
        }

       
    ]
};
option2 = {
    backgroundColor: "#344b58", //背景颜色
    "title": {						//标题
        "text": "年化利率(%)",
        x: "4%",
        y: "11%",
        textStyle: {
            color: '#999',
            fontSize: '10'
        }
      
    },
    
    //图表定位
    "grid": {
        "borderWidth":0,
        "top": 110,
        "bottom": 100,
    },
    
     
	//不允许拖拽
    "calculable": false,
    
    
    //加入横轴的内容
    "xAxis": [{
        "type": "category",
        "axisLine": {
            lineStyle: {
                color: '#fff',
                fontSize: 12
            }
        },
        "splitLine": {
            "show": false  //分割线
        },
        "axisTick": {
            "show": false  //不显示坐标轴刻度
        },
        "splitArea": {
            "show": false
        },
        "axisLabel": {
            "interval": 0,

        },
        "data": xData,
//      "data":[{
//	        	textStyle: {
//		        fontSize: 20,
//		        color: 'red'
//		    }
//      },]
    }],
    
    
    //y轴内容
    "yAxis": [{
        "type": "value",
        "splitLine": {
            "show": false
        },
        "axisLine": {
            lineStyle: {
                color: '#fff',
                fontSize: 12
            }
        },
        "axisTick": {
            "show": false
        },
        "axisLabel": {
            "interval": 0,

        },
        "splitArea": {
            "show": false
        },

    }],

	
    "series": [{
            "name": "女",
            "type": "bar",
            "stack": "总量",
            "barMaxWidth": 35,
            "barGap": "10%",
            "itemStyle": {
                "normal": {
                    "color": "#94bdff",
                    "label": {
                        "show": true,
                        "textStyle": {
                            "color": "#222"
                        },
                        "position": "top",
                        formatter: function(p) {
                        	
//                       return p.value > 0 ? (p.value) : '';
                        }
                    },
   
                }
                
            },
            "data":data1
        },

        {
            "name": "男",
            "type": "bar",
            "stack": "总量",
            "itemStyle": {
                "normal": {
                    "color": "#ffc08a",
                    "barBorderRadius": 0,
                    "label": {
//                      "show": true,
                        "position": "top",
                        formatter: function(p) {
//                          return p.value > 0 ? (p.value) : '';
                        }
                    }
                }
            },
            "data": data2
        }
    ]
}

 myChart.setOption(option1);
 
myChart.on('click', function (params) {
	var item = '';
	for(var i=0; i<data1.length; i++){
		if(i<params.dataIndex){
			data2[i] = data1[params.dataIndex]-data1[i];
			console.log(item)
		}else{
			data2[i] = 0;
		}
		
	}
	console.log(data2)
	console.log('22222222222222')
	console.log(data1)
	myChart.setOption(option2);
});

 // 使用刚指定的配置项和数据显示图表。
       
    </script>
	</body>
</html>
